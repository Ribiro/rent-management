(function(t){function e(e){for(var n,r,i=e[0],l=e[1],u=e[2],d=0,m=[];d<i.length;d++)r=i[d],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(m.length)m.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var l=a[i];0!==o[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},o={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("45fc"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"grey lighten-4"},[a("Navbar"),a("v-content",{staticClass:"grey lighten-4"},[a("router-view",{staticClass:"mx-4 mb-4"})],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{id:"app"}},[t.loggedIn?a("v-navigation-drawer",{staticClass:"indigo",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",t._l(t.links,(function(e){return a("v-list-item",{key:e.text,attrs:{router:"",to:e.route}},[a("v-list-item-action",[a("v-icon",{staticClass:"white--text"},[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"white--text"},[t._v(t._s(e.text))])],1)],1)})),1)],1):t._e(),a("v-app-bar",{attrs:{app:"",flat:""}},[t.loggedIn?a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}):t._e(),a("v-toolbar-title",{staticClass:"text-uppercase grey--text"},[a("span",{staticClass:"font-weight-light"},[t._v("Rent")]),a("span",[t._v("Ninja")])]),a("v-spacer"),t.loggedIn?t._e():a("v-btn",{attrs:{color:"grey lighten-3",rounded:"",to:{name:"login"}}},[t._v("Login")]),t.loggedIn?a("v-btn",{attrs:{text:"",color:"grey",small:""},on:{click:t.logout}},[a("span",[t._v("Sign Out")]),a("v-icon",{attrs:{right:""}},[t._v("mdi-exit-to-app")])],1):t._e()],1)],1)},i=[],l={name:"nav-bar",data:function(){return{drawer:!1,links:[{icon:"dashboard",text:"Dashboard",route:"/dashboard"},{icon:"folder",text:"My Houses",route:"/houses"},{icon:"supervisor_account",text:"Tenants",route:"/tenants"}]}},computed:{loggedIn:function(){return this.$store.getters.loggedIn}},methods:{logout:function(){var t=this;this.$store.dispatch("destroyToken").then((function(){return t.$router.push({name:"login"})}))}}},u=l,c=a("2877"),d=a("6544"),m=a.n(d),v=a("40dc"),h=a("5bc1"),f=a("8336"),p=a("132d"),g=a("8860"),_=a("da13"),b=a("1800"),x=a("5d23"),y=a("f774"),w=a("2fa4"),k=a("2a7f"),V=Object(c["a"])(u,r,i,!1,null,null,null),C=V.exports;m()(V,{VAppBar:v["a"],VAppBarNavIcon:h["a"],VBtn:f["a"],VIcon:p["a"],VList:g["a"],VListItem:_["a"],VListItemAction:b["a"],VListItemContent:x["a"],VListItemTitle:x["b"],VNavigationDrawer:y["a"],VSpacer:w["a"],VToolbarTitle:k["a"]});var T={name:"App",components:{Navbar:C},data:function(){return{}}},P=T,R=a("7496"),$=a("a75b"),A=Object(c["a"])(P,o,s,!1,null,null,null),H=A.exports;m()(A,{VApp:R["a"],VContent:$["a"]});var I=a("8c4f"),S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",{staticClass:"subtitle-1 grey--text"},[t._v("Dashboard")]),a("v-container",{staticClass:"my-5"},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",md6:""}})],1)],1)],1)},O=[],B={name:"Dashboard",components:{}},E=B,L=a("a523"),q=a("0e8f"),j=a("a722"),D=Object(c["a"])(E,S,O,!1,null,null,null),F=D.exports;m()(D,{VContainer:L["a"],VFlex:q["a"],VLayout:j["a"]});var N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"houses"},[a("h1",{staticClass:"subtitle-2 grey--text"},[t._v("My Houses")]),a("v-container",{staticClass:"my-5"},[a("v-layout",{staticClass:"mx-3 mb-3",attrs:{row:""}},[a("v-btn",{attrs:{small:"",color:"grey lighten-3 "},on:{click:function(e){t.sortBy("status"),t.sorting=!t.sorting}},model:{value:t.sorting,callback:function(e){t.sorting=e},expression:"sorting"}},[a("v-icon",{attrs:{left:"",small:""}},[t._v("mdi-folder")]),a("span",{staticClass:"caption text-lowercase"},[t._v(" By status")])],1),a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{small:"",right:"",fab:"",dark:"",color:"indigo"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({attrs:{dark:""}},n),[t._v("mdi-plus")])]}}]),model:{value:t.add_dialog,callback:function(e){t.add_dialog=e},expression:"add_dialog"}},[a("v-card",[a("v-card-title",[t._v("Add house")]),a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submitHouse(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"house_no",rules:t.houseNoRules},model:{value:t.house_no,callback:function(e){t.house_no=e},expression:"house_no"}}),a("v-text-field",{attrs:{type:"number",label:"rent_amount",rules:t.rentAmountRules},model:{value:t.rent_amount,callback:function(e){t.rent_amount=e},expression:"rent_amount"}}),a("v-btn",{attrs:{disabled:!t.valid,type:"submit",color:"success"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),t._l(t.$store.state.houses,(function(e,n){return a("v-card",{key:n,staticClass:"px-3",attrs:{flat:""}},[a("v-layout",{class:"pa-3 house "+e.status,attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs6:"",md3:""}},[a("div",{staticClass:"caption grey--text"},[t._v("House No")]),a("div",[t._v(t._s(e.house_no))])]),a("v-flex",{attrs:{xs6:"",sm4:"",md3:""}},[a("div",{staticClass:"caption grey--text"},[t._v("Rent Amount")]),a("div",[t._v(t._s(e.rent_amount))])]),a("v-flex",{attrs:{xs6:"",sm6:"",md3:""}},[a("div",[a("v-chip",{class:e.status+" white--text caption my-2",attrs:{small:""}},[t._v(t._s(e.status))])],1)]),a("v-flex",{attrs:{xs6:"",sm6:"",md3:""}},[a("div",{staticClass:"caption grey--text align-center"},[t._v("Actions")]),a("div",[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(n){var o=n.on;return[a("v-icon",t._g({attrs:{left:"",small:""},on:{click:function(a){return t.getHouse(e.id)}}},o),[t._v("mdi-pencil")])]}}],null,!0),model:{value:t.update_dialog[n],callback:function(e){t.$set(t.update_dialog,n,e)},expression:"update_dialog[index]"}},[a("v-card",[a("v-card-title",[t._v("Update "+t._s(e.house_no))]),a("v-spacer"),a("v-icon",{attrs:{text:"",color:"blue"},on:{click:function(e){t.update_dialog=!1}}},[t._v("close")]),a("v-card-text",[a("v-form",{ref:"form",refInFor:!0,on:{submit:function(a){return a.preventDefault(),t.updateHouse(e.id)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"house_no",rules:t.houseNoRules},model:{value:e.house_no,callback:function(a){t.$set(e,"house_no",a)},expression:"house.house_no"}}),a("v-text-field",{attrs:{type:"number",label:"rent_amount",rules:t.rentAmountRules},model:{value:e.rent_amount,callback:function(a){t.$set(e,"rent_amount",a)},expression:"house.rent_amount"}}),a("v-btn",{attrs:{disabled:!t.valid,type:"submit",color:"success"}},[t._v("Submit")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({attrs:{right:"",small:""}},n),[t._v("mdi-delete")])]}}],null,!0),model:{value:t.delete_dialog[n],callback:function(e){t.$set(t.delete_dialog,n,e)},expression:"delete_dialog[index]"}},[a("v-card",[a("v-card-title",{staticClass:"text-uppercase grey--text font-weight-light"},[t._v("Are you sure to delete "+t._s(e.house_no)+"?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{right:"",color:"red darken-1",text:""},on:{click:function(a){return t.removeHouse(e.id)}}},[t._v(" Agree ")])],1)],1)],1)],1)])],1),a("v-divider")],1)}))],2)],1)},M=[],z={components:{},data:function(){return{valid:!0,add_dialog:!1,update_dialog:[],delete_dialog:[],showModal:!1,house_no:"",rent_amount:"",alignment:"center",justify:"center",houseNoRules:[function(t){return!!t||"house no. is required"}],rentAmountRules:[function(t){return!!t||"rent amount is required"}],sorting:!1}},mounted:function(){this.$store.dispatch("getHouses")},methods:{sortBy:function(t){!1===this.sorting?this.houses.sort((function(e,a){return e[t]<a[t]?-1:1})):this.houses.sort((function(e,a){return e[t]<a[t]?1:-1}))},submitHouse:function(){var t=this;this.$store.dispatch("addHouse",{house_no:this.house_no,rent_amount:this.rent_amount}).then((function(){t.house_no="",t.rent_amount="",t.add_dialog=!1,console.log(status)})).catch((function(){console.log("did not add")}))},updateHouse:function(t){var e=this;this.$store.dispatch("updateHouse",{id:t,house_no:this.house_no,rent_amount:this.rent_amount}).then((function(t){e.house_no="",e.rent_amount="",e.update_dialog=!1,console.log(t.data)})).catch((function(){console.log("did not update")}))},removeHouse:function(t){this.$store.dispatch("deleteHouse",t),this.delete_dialog=!1},getHouse:function(t){this.$store.dispatch("getHouseById",t)}}},U=z,J=(a("cea5"),a("b0af")),K=a("99d9"),Y=a("cc20"),G=a("169a"),Q=a("ce7e"),W=a("4bd4"),X=a("8654"),Z=Object(c["a"])(U,N,M,!1,null,null,null),tt=Z.exports;m()(Z,{VBtn:f["a"],VCard:J["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VChip:Y["a"],VContainer:L["a"],VDialog:G["a"],VDivider:Q["a"],VFlex:q["a"],VForm:W["a"],VIcon:p["a"],VLayout:j["a"],VSpacer:w["a"],VTextField:X["a"]});var et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"tenants"}},[a("v-snackbar",{attrs:{timeout:4e3,top:"",color:"success"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[a("span",[t._v("Tenant successfully added")]),a("v-btn",{attrs:{small:"",text:"",color:"white"}},[t._v("Close")])],1),a("h1",{staticClass:"subtitle-2 grey--text"},[t._v("Dashboard/ Tenants")]),a("v-container",{staticClass:"my-5"},[a("v-layout",{staticClass:"mx-3 mb-3",attrs:{row:""}},[a("v-spacer"),a("v-btn",{staticClass:"mx-2",attrs:{small:"",right:"",fab:"",dark:"",color:"indigo"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({attrs:{dark:""}},n),[t._v("mdi-plus")])]}}]),model:{value:t.add_dialog,callback:function(e){t.add_dialog=e},expression:"add_dialog"}},[a("v-card",[a("v-card-title",[t._v("Add house")]),a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submitTenant(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{label:"Tenant Name",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),a("v-select",{attrs:{items:t.$store.state.vacant_houses,"item-text":"house_no","item-value":"house_no","menu-props":{bottom:!0,offsetY:!0},label:"House no",rules:t.houseNoRules},model:{value:t.house_no,callback:function(e){t.house_no=e},expression:"house_no"}}),a("v-text-field",{attrs:{type:"number",label:"Phone Number",rules:t.phoneRules},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("v-text-field",{attrs:{type:"email",label:"Email",rules:t.emailRules},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-btn",{attrs:{disabled:!t.valid,type:"submit",color:"success"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.$store.state.tenants,(function(e,n){return a("v-flex",{key:n,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticClass:"text-center ma-3",attrs:{flat:""}},[a("v-card-title",[a("v-icon",{attrs:{left:""}},[t._v("mdi-account")]),a("span",{staticClass:"title font-weight-light"},[t._v(t._s(e.name))]),a("v-spacer"),a("v-icon",{staticClass:"mr-2",attrs:{small:""}},[t._v("mdi-pencil")]),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({attrs:{small:""}},n),[t._v("mdi-delete")])]}}],null,!0),model:{value:t.delete_dialog[n],callback:function(e){t.$set(t.delete_dialog,n,e)},expression:"delete_dialog[index]"}},[a("v-card",[a("v-card-title",{staticClass:"text-uppercase grey--text font-weight-light"},[t._v("Are you sure to remove "+t._s(e.name)+"?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{right:"",color:"red darken-1",text:""},on:{click:function(a){return t.removeTenant(e.id)}}},[t._v(" Agree ")])],1)],1)],1)],1),a("v-card-text",{staticClass:"headline font-weight-bold"},[a("v-icon",{attrs:{small:"",left:""}},[t._v("house")]),a("span",{staticClass:"title font-weight-light"},[t._v(t._s(e.house_no))]),a("v-btn",{attrs:{to:{name:"payments",params:{id:e.id}},text:"",color:"deep-purple accent-4"}},[t._v("Payments Details")])],1),a("v-card-actions",[a("div",{staticClass:"text-center"},[a("div",[a("v-icon",{attrs:{small:"",left:""}},[t._v("phone")]),a("span",{staticClass:"   "},[t._v(t._s(e.phone))])],1),a("div",[a("v-icon",{attrs:{small:"",left:""}},[t._v("mdi-email")]),a("span",{staticClass:"   "},[t._v(t._s(e.email))])],1)])])],1)],1)})),1)],1)],1)},at=[],nt=(a("caad"),a("c975"),a("b0c0"),a("2532"),{name:"Tenants",data:function(){return{snackbar:!1,valid:!0,add_dialog:!1,delete_dialog:[],name:"",house_no:"",phone:"",email:"",status:"vacant",nameRules:[function(t){return!!t||"tenant name is required"}],houseNoRules:[function(t){return!!t||"house no. is required"}],phoneRules:[function(t){return!!t||"phone number is required"}],emailRules:[function(t){return!!t||"Email is required"},function(t){return 0!==t.indexOf("@")||"Email should have a username"},function(t){return t.includes("@")||"Email should include an @ symbol"},function(t){return t.indexOf(".")-t.indexOf("@")>1||"Email should contain a valid domain"},function(t){return t.indexOf(".")<=t.length-3||"Email should contain a valid domain extension"}],sorting:!1}},mounted:function(){this.$store.dispatch("getTenants"),this.$store.dispatch("getHousesByStatus",this.status)},methods:{submitTenant:function(){var t=this;this.$store.dispatch("addTenant",{name:this.name,house_no:this.house_no,phone:this.phone,email:this.email}).then((function(){t.name="",t.house_no="",t.phone="",t.email="",t.$store.dispatch("updateHouse",{status:"occupied"}),t.add_dialog=!1,t.snackbar=!0,console.log(status)})).catch((function(){console.log("something went wrong")}))},removeTenant:function(t){this.$store.dispatch("deleteTenant",t),this.delete_dialog=!1}}}),ot=nt,st=a("b974"),rt=a("2db4"),it=Object(c["a"])(ot,et,at,!1,null,"a5a4d7ba",null),lt=it.exports;m()(it,{VBtn:f["a"],VCard:J["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VContainer:L["a"],VDialog:G["a"],VFlex:q["a"],VForm:W["a"],VIcon:p["a"],VLayout:j["a"],VSelect:st["a"],VSnackbar:rt["a"],VSpacer:w["a"],VTextField:X["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{width:"400"}},[t.errorMessage?a("v-alert",{staticClass:"mb-4",attrs:{type:"error"}},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),a("v-card-title",{staticClass:"mt-5"},[a("h4",{staticClass:"grey--text"},[t._v("Login Form")])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.emailRules,label:"email","prepend-icon":"mdi-account-circle"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{label:"password",type:t.showPassword?"text":"password","prepend-icon":"mdi-lock","append-icon":t.showPassword?"mdi-eye":"mdi-eye-off",rules:t.passwordRules},on:{"click:append":function(e){t.showPassword=!t.showPassword}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-progress-linear",{attrs:{active:t.$store.state.loading,indeterminate:t.$store.state.loading,absolute:"",bottom:"",color:"deep-purple accent-4"}}),a("v-btn",{attrs:{small:"",disabled:!t.valid,color:"success"},on:{click:t.login}},[t._v("Submit")]),a("v-spacer"),a("v-btn",{attrs:{small:"",to:{name:"register"},color:"info"}},[t._v("Register")])],1)],1)],1)},ct=[],dt={name:"Login",data:function(){return{showPassword:!1,valid:!0,email:"",password:"",errorMessage:"",emailRules:[function(t){return!!t||"Email is required"},function(t){return 0!==t.indexOf("@")||"Email should have a username"},function(t){return t.includes("@")||"Email should include an @ symbol"},function(t){return t.indexOf(".")-t.indexOf("@")>1||"Email should contain a valid domain"},function(t){return t.indexOf(".")<=t.length-3||"Email should contain a valid domain extension"}],passwordRules:[function(t){return!!t||"Password is required"}]}},methods:{login:function(t){var e=this;t.preventDefault(),this.$store.dispatch("retrieveToken",{email:this.email,password:this.password}).then((function(){e.$router.push({name:"dashboard"})})).catch((function(t){e.errorMessage=t.response.data.message}))}}},mt=dt,vt=a("0798"),ht=a("8e36"),ft=Object(c["a"])(mt,ut,ct,!1,null,null,null),pt=ft.exports;m()(ft,{VAlert:vt["a"],VBtn:f["a"],VCard:J["a"],VCardActions:K["a"],VCardText:K["b"],VCardTitle:K["c"],VDivider:Q["a"],VForm:W["a"],VProgressLinear:ht["a"],VSpacer:w["a"],VTextField:X["a"]});var gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",[a("v-col",[a("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[a("v-card-title",{staticClass:"mx-auto"},[t._v("Create an account")]),a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.validate(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{rules:t.usernameRules,label:"Username",clearable:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("v-text-field",{attrs:{type:"number",rules:t.fnameRules,label:"Phone",clearable:""},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}}),a("v-text-field",{attrs:{rules:t.emailRules,label:"Email",clearable:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",rules:t.passwordRules,label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("v-btn",{attrs:{block:"",type:"submit",color:"success",dark:""}},[t._v("Register")])],1)],1)],1)],1)],1)],1)],1)},_t=[],bt={name:"Register",data:function(){return{valid:!0,username:"",phone:"",email:"",password:"",confirm_password:"",usernameRules:[function(t){return!!t||"Username is required"}],fnameRules:[function(t){return!!t||"phone number is required"}],lnameRules:[function(t){return!!t||"last name is required"}],emailRules:[function(t){return!!t||"Email is required"},function(t){return 0!==t.indexOf("@")||"Email should have a username"},function(t){return t.includes("@")||"Email should include an @ symbol"},function(t){return t.indexOf(".")-t.indexOf("@")>1||"Email should contain a valid domain"},function(t){return t.indexOf(".")<=t.length-3||"Email should contain a valid domain extension"}],passwordRules:[function(t){return!!t||"password is required"},function(t){return t.length>=8||"Min 8 characters"}],confirmPasswordRules:[function(t){return!!t||"password is required"},function(t){return t.length>=8||"Min 8 characters"}]}},methods:{validate:function(){var t=this,e=this.$refs.form.validate();e&&this.$store.dispatch("register",{username:this.username,phone:this.phone,email:this.email,password:this.password}).then((function(){t.$router.push({name:"login"})}))}}},xt=bt,yt=a("62ad"),wt=a("0fd9"),kt=Object(c["a"])(xt,gt,_t,!1,null,null,null),Vt=kt.exports;m()(kt,{VBtn:f["a"],VCard:J["a"],VCardText:K["b"],VCardTitle:K["c"],VCol:yt["a"],VContainer:L["a"],VForm:W["a"],VRow:wt["a"],VTextField:X["a"]});var Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("This is the landing Page")])},Tt=[],Pt={name:"Landing"},Rt=Pt,$t=Object(c["a"])(Rt,Ct,Tt,!1,null,"cf7e6a82",null),At=$t.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-card-title",[a("h1",{staticClass:"subtitle-2 grey--text"},[t._v("Payment Records")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-btn",{staticClass:"mx-2",attrs:{"x-small":"",left:"",fab:"",dark:"",color:"indigo"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-icon",t._g({attrs:{dark:""}},n),[t._v("mdi-plus")])]}}]),model:{value:t.add_dialog,callback:function(e){t.add_dialog=e},expression:"add_dialog"}},[a("v-card",[a("v-card-title",[t._v("New payment")]),a("v-card-text",[a("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.submitPayment(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[a("v-text-field",{attrs:{type:"number",label:"Amount",rules:t.amountRules},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}}),a("v-btn",{attrs:{disabled:!t.valid,type:"submit",color:"success"}},[t._v("Submit")])],1)],1)],1)],1)],1)],1),a("v-data-table",{attrs:{headers:t.headers,items:t.$store.state.payments,search:t.search,loading:"","loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(t.item.date))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.transaction_type))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.amount))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.balance))]),a("td",{staticClass:"text-xs-right"},[t._v(t._s(e.item.transaction_id))])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v(' Your search for "'+t._s(t.search)+'" found no results. ')])]},proxy:!0}])})],1)},It=[],St=(a("ac1f"),a("1276"),{name:"Payments",data:function(){return{amount:"",tenant_id:"",add_dialog:!1,valid:!0,id:4,amountRules:[function(t){return!!t||"amount paid is required"}],search:"",headers:[{text:"Date",align:"left",sortable:!1,value:"date"},{text:"Transaction Type",value:"transaction_type"},{text:"Amount (Ksh.)",value:"amount"},{text:"Balance (Ksh.)",value:"balance"},{text:"Transaction ID",value:"transaction_id"}]}},mounted:function(){this.$store.dispatch("getPaymentsByTenantId",this.getIdFromURL())},methods:{getIdFromURL:function(){return window.location.pathname.split("/")[2]},submitPayment:function(){var t=this;this.$store.dispatch("addPayment",{amount:this.amount,tenant_id:this.getIdFromURL()},this.id).then((function(){t.amount="",t.tenant_id="",t.add_dialog=!1,t.snackbar=!0,console.log(status)})).catch((function(){console.log("something went wrong")}))}}}),Ot=St,Bt=a("8fea"),Et=Object(c["a"])(Ot,Ht,It,!1,null,"0256afc6",null),Lt=Et.exports;m()(Et,{VAlert:vt["a"],VBtn:f["a"],VCard:J["a"],VCardText:K["b"],VCardTitle:K["c"],VDataTable:Bt["a"],VDialog:G["a"],VForm:W["a"],VIcon:p["a"],VSpacer:w["a"],VTextField:X["a"]}),n["a"].use(I["a"]);var qt=[{path:"/",name:"landing",component:At},{path:"/dashboard",name:"dashboard",component:F,meta:{requiresAuth:!0}},{path:"/houses",name:"houses",component:tt,meta:{requiresAuth:!0}},{path:"/tenants",name:"tenants",component:lt,meta:{requiresAuth:!0}},{path:"/payments/:id",name:"payments",component:Lt,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:pt,meta:{requiresVisitor:!0}},{path:"/register",name:"register",component:Vt,meta:{requiresVisitor:!0}}],jt=new I["a"]({mode:"history",base:"/",routes:qt}),Dt=jt,Ft=(a("c740"),a("a434"),a("d3b7"),a("2f62")),Nt=a("bc3a"),Mt=a.n(Nt);n["a"].use(Ft["a"]),Mt.a.defaults.baseURL="https://ribiro-rent.herokuapp.com/api/v1";var zt=new Ft["a"].Store({state:{token:localStorage.getItem("access_token")||null,loading:!1,houses:[],house:[],vacant_houses:[],house_no:"",rent_amount:"",tenants:[],payments:[]},getters:{loggedIn:function(t){return null!==t.token}},mutations:{retrieveToken:function(t,e){t.token=e},destroyToken:function(t){t.token=null},updateHousesList:function(t,e){t.houses.push({house_no:e.house_no,rent_amount:e.rent_amount})},setHouses:function(t,e){t.houses=e},setHouse:function(t,e){t.house=e},setHouseByStatus:function(t,e){t.vacant_houses=e},deleteHouse:function(t,e){var a=t.houses.findIndex((function(t){return t.id===e}));t.houses.splice(a,1)},updateHouse:function(t,e){var a=this.state.houses.findIndex((function(t){return t.id===t.id}));t.houses.splice(a,1,{id:e.id,house_no:e.house_no,rent_amount:e.rent_amount,status:e.status})},updateTenantsList:function(t,e){t.tenants.push({name:e.name,phone:e.phone,email:e.email,house_no:e.house_no})},setTenants:function(t,e){t.tenants=e},deleteTenant:function(t,e){var a=t.tenants.findIndex((function(t){return t.id===e}));t.tenants.splice(a,1)},updatePaymentsList:function(t,e){t.tenants.push({amount:e.amount})},setPaymentsByTenantId:function(t,e){t.payments=e}},actions:{register:function(t,e){return new Promise((function(t,a){Mt.a.post("/users",{username:e.username,phone:e.phone,email:e.email,password:e.password}).then((function(e){t(e)})).catch((function(t){a(t)}))}))},retrieveToken:function(t,e){return new Promise((function(a,n){Mt.a.post("/login",{email:e.email,password:e.password}).then((function(e){var n=e.data.acess_token;localStorage.setItem("access_token",n),t.commit("retrieveToken",n),a(e)})).catch((function(t){console.log(t),n(t)}))}))},destroyToken:function(t){if(Mt.a.defaults.headers.common["Authorization"]="Bearer"+t.state.token,t.getters.loggedIn)return new Promise((function(e,a){Mt.a.post("/logout").then((function(a){localStorage.removeItem("access_token"),t.commit("destroyToken"),e(a)})).catch((function(e){localStorage.removeItem("access_token"),t.commit("destroyToken"),a(e)}))}))},addHouse:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.post("/houses",{house_no:e.house_no,rent_amount:e.rent_amount}).then((function(e){console.log(e.data),t.commit("updateHousesList",e.data),a()})).catch((function(t){console.log(t),n()}))}))},getHouses:function(t){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(e,a){Mt.a.get("/houses").then((function(a){t.commit("setHouses",a.data.houses),e(e),console.log(a)})).catch((function(t){console.log(t),a(t)}))}))},getHouseById:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.get("/houses/"+e).then((function(e){t.commit("setHouse",e.data),console.log(e),a(a)})).catch((function(t){console.log(t),n(t)}))}))},getHousesByStatus:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.get("/houses/"+e).then((function(e){t.commit("setHouseByStatus",e.data),console.log(e),a(a)})).catch((function(t){console.log(t),n(t)}))}))},deleteHouse:function(t,e){Mt.a.delete("/houses/"+e).then((function(a){t.commit("deleteHouse",e)})).catch((function(t){console.log(t)}))},updateHouse:function(t,e){Mt.a.put("/houses/"+e.id,{house_no:e.house_no,rent_amount:e.rent_amount,status:e.status}).then((function(e){t.commit("updateHouse",e.data),console.log(e.data)})).catch((function(t){console.log(t)}))},addTenant:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.post("/tenants",{name:e.name,phone:e.phone,email:e.email,house_no:e.house_no}).then((function(e){console.log(e.data),t.commit("updateTenantsList",e.data),a()})).catch((function(t){console.log(t),n()}))}))},getTenants:function(t){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(e,a){Mt.a.get("/tenants").then((function(a){t.commit("setTenants",a.data.tenants),e(e),console.log(a)})).catch((function(t){console.log(t),a(t)}))}))},deleteTenant:function(t,e){Mt.a.delete("/tenants/"+e).then((function(a){t.commit("deleteTenant",e)})).catch((function(t){console.log(t)}))},addPayment:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.post("/payments",{amount:e.amount,tenant_id:e.tenant_id}).then((function(e){console.log(e.data),t.commit("updatePaymentsList",e.data),a()})).catch((function(t){console.log(t),n()}))}))},getPaymentsByTenantId:function(t,e){return Mt.a.defaults.headers.common["Authorization"]="Bearer ".concat(t.state.token),new Promise((function(a,n){Mt.a.get("/payments/"+e).then((function(e){t.commit("setPaymentsByTenantId",e.data),console.log(e),a(a)})).catch((function(t){console.log(t),n(t)}))}))}},modules:{}}),Ut=a("f309");n["a"].use(Ut["a"]);var Jt=new Ut["a"]({});a("d1e78");n["a"].config.productionTip=!1,Dt.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.requiresAuth}))?zt.getters.loggedIn?a():a({name:"login"}):t.matched.some((function(t){return t.meta.requiresVisitor}))&&zt.getters.loggedIn?a({name:"todo"}):a()})),new n["a"]({router:Dt,store:zt,vuetify:Jt,render:function(t){return t(H)}}).$mount("#app")},b917:function(t,e,a){},cea5:function(t,e,a){"use strict";var n=a("b917"),o=a.n(n);o.a}});
//# sourceMappingURL=app.fb827aef.js.map